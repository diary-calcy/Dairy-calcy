<!DOCTYPE html>
<html lang="kn">
<head>
  <meta charset="UTF-8">
  <title>‡≤π‡≤æ‡≤≤‡≥Å & ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å ‡≤¨‡≤ø‡≤≤‡≥ç ‡≤ï‡≥ç‡≤Ø‡≤æ‡≤≤‡≥ç‡≤ï‡≥Å‡≤≤‡≥á‡≤ü‡≤∞‡≥ç</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f9f9f9;
    }
    h2 {
      color: #333;
    }
    label {
      font-weight: bold;
    }
    .product {
      margin-bottom: 15px;
    }
    input {
      padding: 5px;
      margin-left: 10px;
      width: 100px;
    }
    .total {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 10px;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h2>‡≤π‡≤æ‡≤≤‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å ‡≤¨‡≤ø‡≤≤‡≥ç‡≤≤‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤ï‡≥ç‡≤Ø‡≤æ‡≤≤‡≥ç‡≤ï‡≥Å‡≤≤‡≥á‡≤ü‡≤∞‡≥ç</h2>

  <div class="product">
    <label for="milk1l">1L Blue Milk Pack:</label>
    <input type="number" id="milk1l" onfocus="speakKannada('1 liter Blue milk packet yasthu')">
  </div>

  <div class="product">
    <label for="milk200">200 ml Milk Pack:</label>
    <input type="number" id="milk200" onfocus="speakKannada('‡≤ö‡≤ø‡≤ï‡≥Å packet ‡≤π‡≤æ‡≤≤‡≥Å yasthu')">
  </div>

  <div class="product">
    <label for="curd200">200 ml Curd Pack:</label>
    <input type="number" id="curd200" onfocus="speakKannada('‡≤ö‡≤ø‡≤ï‡≥Å packet ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å yasthu')">
  </div>

  <div class="product">
    <label for="orange">500 ml Orange Milk (Crates):</label>
    <input type="number" id="orange" step="0.1" onfocus="speakKannada('‡≤Ö‡≤∞‡≥ç‡≤ß liter orange ‡≤π‡≤æ‡≤≤‡≥Å yasth Crate')">
  </div>

  <div class="product">
    <label for="green">500 ml Green Milk (Crates):</label>
    <input type="number" id="green" step="0.1" onfocus="speakKannada('‡≤Ö‡≤∞‡≥ç‡≤ß liter green ‡≤π‡≤æ‡≤≤‡≥Å yasth Crates')">
  </div>

  <div class="product">
    <label for="curd500">500 ml Curd (Crates):</label>
    <input type="number" id="curd500" step="0.1" onfocus="speakKannada('‡≤Ö‡≤∞‡≥ç‡≤ß liter ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å yasth Crates')">
  </div>

  <div class="total" id="total"></div>

  <!-- Two Buttons -->
  <button onclick="calculateTotal()">‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï ‡≤π‡≤æ‡≤ï‡≤ø (Calculate)</button>
  <button onclick="sendBill()">‡≤¨‡≤ø‡≤≤‡≥ç ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø (Send Bill)</button>

  <script>
    const prices = {
      milk1l: 45,
      milk200: 12.6,
      curd200: 12.6,
      orange: 53,
      green: 51,
      curd500: 54
    };

    function speakKannada(text) {
      const msg = new SpeechSynthesisUtterance(text);
      msg.lang = "kn-IN";
      window.speechSynthesis.speak(msg);
    }

    function calculateTotal() {
      const date = new Date().toLocaleDateString('kn-IN');
      let total = 0;
      let bill = `üè™ ‡≤¨‡≤ø‡≤≤‡≥ç ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï: ${date}\n`;

      const ids = ["milk1l", "milk200", "curd200", "orange", "green", "curd500"];
      ids.forEach(id => {
        const val = parseFloat(document.getElementById(id).value) || 0;
        let subTotal = 0;
        if (["orange", "green", "curd500"].includes(id)) {
          subTotal = val * 12 * prices[id];
          bill += `${idLabel(id)}: ${val} ‡≤ï‡≥ç‡≤∞‡≥Ü‡≤ü‡≥ç‡≤∏‡≥ç √ó 12L √ó ‚Çπ${prices[id]} = ‚Çπ${subTotal.toFixed(2)}\n`;
        } else {
          subTotal = val * prices[id];
          bill += `${idLabel(id)}: ${val} ‡≤™‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç √ó ‚Çπ${prices[id]} = ‚Çπ${subTotal.toFixed(2)}\n`;
        }
        total += subTotal;
      });

      bill += `\n‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≥ä‡≤§‡≥ç‡≤§: ‚Çπ${total.toFixed(2)}`;
      document.getElementById("total").innerText = bill;

      // Save to global for sending
      window.lastBill = bill;
    }

    function sendBill() {
      const bill = window.lastBill || "‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï ‡≤π‡≤æ‡≤ï‡≤ø (Please click Calculate first)";
      const msg = encodeURIComponent(bill);
      const milkmanNumber = "918139918124"; // Change to real number
      const url = `https://wa.me/${milkmanNumber}?text=${msg}`;
      window.open(url, '_blank');
    }

    function idLabel(id) {
      const labels = {
        milk1l: "1 ‡≤≤‡≥Ä‡≤ü‡≤∞‡≥ç ‡≤π‡≤æ‡≤≤‡≥Å",
        milk200: "200 ‡≤Æ‡≤ø‡≤≤‡≤ø ‡≤π‡≤æ‡≤≤‡≥Å",
        curd200: "200 ‡≤Æ‡≤ø‡≤≤‡≤ø ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å",
        orange: "500 ‡≤Æ‡≤ø‡≤≤‡≤ø ‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü ‡≤π‡≤æ‡≤≤‡≥Å",
        green: "500 ‡≤Æ‡≤ø‡≤≤‡≤ø ‡≤π‡≤∏‡≤ø‡≤∞‡≥Å ‡≤π‡≤æ‡≤≤‡≥Å",
        curd500: "500 ‡≤Æ‡≤ø‡≤≤‡≤ø ‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å"
      };
      return labels[id] || id;
    }
  </script>
</body>
</html>
